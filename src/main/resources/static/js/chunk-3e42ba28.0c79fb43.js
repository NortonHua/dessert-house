(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e42ba28"],{"061f":function(s,t,i){"use strict";var e=i("f1f2"),n=i.n(e);n.a},"7c9f":function(s,t,i){"use strict";i.r(t);var e=function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"container"},[i("div",{staticClass:"title"},[s._v("编辑分组权限")]),i("div",{staticClass:"content"},[i("el-row",[i("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[i("div",{staticClass:"content"},[i("group-permissions",{ref:"groupPermissions",staticStyle:{"margin-right":"-30px","margin-left":"-25px","margin-bottom":"-10px"},attrs:{id:s.$route.query.id},on:{updatePermissions:s.updatePermissions,getCacheAuthIds:s.getCacheAuthIds,updateAllPermissions:s.updateAllPermissions}})],1),i("div",{staticStyle:{"padding-left":"5px","margin-top":"30px"}},[i("el-button",{attrs:{type:"primary"},on:{click:s.confirmEdit}},[s._v("确 定")]),i("el-button",{on:{click:s.goBack}},[s._v("返回")])],1)])],1)],1)])},n=[],r=i("a34a"),o=i.n(r),a=i("3a2e"),c=i("21aa");function u(s,t,i,e,n,r,o){try{var a=s[r](o),c=a.value}catch(u){return void i(u)}a.done?t(c):Promise.resolve(c).then(e,n)}function l(s){return function(){var t=this,i=arguments;return new Promise(function(e,n){var r=s.apply(t,i);function o(s){u(r,e,n,o,a,"next",s)}function a(s){u(r,e,n,o,a,"throw",s)}o(void 0)})}}var d={components:{GroupPermissions:c["default"]},inject:["eventBus"],data:function(){return{allPermissions:[],permissions:[],loading:!1}},methods:{updatePermissions:function(s){this.permissions=s},updateAllPermissions:function(s){this.allPcrmissions=s},getCacheAuthIds:function(s){this.cachePermissions=s},confirmEdit:function(){var s=l(o.a.mark(function s(){var t,i,e,n,r=this;return o.a.wrap(function(s){while(1)switch(s.prev=s.next){case 0:if(t=0,i=0,this.permissions.sort().toString()===this.cachePermissions.sort().toString()){s.next=14;break}if(e=this.cachePermissions.concat(this.permissions).filter(function(s){return!r.permissions.includes(s)}),n=this.cachePermissions.concat(this.permissions).filter(function(s){return!r.cachePermissions.includes(s)}),!(n.length>0)){s.next=9;break}return s.next=8,a["default"].dispatchPermissions(this.$route.query.id,n);case 8:t=s.sent;case 9:if(!(e.length>0)){s.next=13;break}return s.next=12,a["default"].removePermissions(this.$route.query.id,e);case 12:i=s.sent;case 13:(t.code<window.MAX_SUCCESS_CODE||i.code<window.MAX_SUCCESS_CODE)&&(this.$refs.groupPermissions.getGroupPermissions(),this.$message.success("权限修改成功"));case 14:case"end":return s.stop()}},s,this)}));function t(){return s.apply(this,arguments)}return t}(),goBack:function(){this.$router.go(-1)}}},f=d,m=(i("061f"),i("2877")),h=Object(m["a"])(f,e,n,!1,null,"7b2062bd",null);t["default"]=h.exports},f1f2:function(s,t,i){}}]);